<!doctype html>
<html lang="en">
    <title>P1 Shuffleboard</title>
    <head>
        <script src="https://cdn.jsdelivr.net/gh/tuftsceeo/SPIKE-Web-Interface/cdn/ServiceDock.js" charset="utf-8"></script>
      <script src="../src/secret.js" charset="utf-8"></script>
      <script src="../src/cloud.js" charset="utf-8"></script>
      <link rel="stylesheet" href="../src/style.css" />
   
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

   
    </head>
<body>
<!-- Bootstrap JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <!-- SERVICE DOCK -->
    <div id="servicedock">
        <service-airtable id="service_airtable" tablename="shuffle"></service-airtable>
    </div>

    <!-- Creating Player 1 Jumbotron on Top -->
    <div class="p-1 mb-2 rounded-2" style="background-color: #eb4646;">
      <div class="container-fluid py-5">
        <!-- #2596be -->
        <h2 class="display-1 fw-bold center" style="color: white;">Player 1</h1>
      </div>
    </div>

    <br>

    <!-- Sliders for Determining Position -->
    <div class="container-fluid center" >
        <div class="row" >
            <div class="col">
                <p><img src="../images/position.png" width="50" alt="position"> Position on the Board:
                    <input type=range id="pos" cloud_action='update' cloud_name='P1_Pos' cloud_min='-5' cloud_max='5' min='-5' max='5' value='0'>
                    <span id="dpos"> </span> 
                </p>
                <p><img src="../images/rotate.png" width="50" alt="aim"> Shooting Angle:
                    <input type=range id="ang" cloud_action='update' cloud_name='P1_Ang' cloud_min='-90' cloud_max='90' min='-90' max='90' value='0'>
                    <span id="dang"> </span>
                </p>
            </div>
            <div class="col">
                <p style="font-size:50px" class="center"> 
                <img src="../images/aim.png" width="75" alt="aim">
                <button class="btn-dark center" cloud_action='update' cloud_name='P1_Ready'>Aim</button></p>
            </div>
        </div>
        <hr>
        <div class="row">
            <div class="col">
                <p><br><img src="../images/power.png" width="50" alt="power"> Power:
                    <input type=range id="pow" cloud_action='update' cloud_name='P1_Pow' cloud_min='0' cloud_max='100' min='0' max='100' value='0'>
                    <span id="dpow"> </span>
                </p>
            </div>
            <div class="col">
                <p style="font-size:50px" class="center">
                <img src="../images/launch.png" width="75" alt="launch">
                <button  class="btn-warning center" cloud_action='update' cloud_name='P1_Ready'>FIRE</button></p>
            </div>
        </div>

    <h2> Score: </h2>
    <p style="font-size:50px;"> <span id="span1" style="color: #eb4646;"> </span> <b>-</b> <span id="p2-score" style="color: #2596be;"> </span> </p>
  </div>

     <script> 
        var slider1 = document.getElementById("pos");
        var output1 = document.getElementById("dpos");
        output1.innerHTML = slider1.value;

        slider1.oninput = function() {
            output1.innerHTML = this.value;
        }

        var slider2 = document.getElementById("ang");
        var output2 = document.getElementById("dang");
        output2.innerHTML = slider2.value;

        slider2.oninput = function() {
            output2.innerHTML = this.value;
        }

        var slider3 = document.getElementById("pow");
        var output3 = document.getElementById("dpow");
        output3.innerHTML = slider2.value;

        slider3.oninput = function() {
            output3.innerHTML = this.value;
        }


    </script>
    <script> 
    function score_check() {
            var p1_output = document.getElementById('span1');
            var p2_output = document.getElementById("p2-score");
            var p1_score = cloud_get("P1_Score");
            var p2_score = cloud_get("P2_Score");
            p1_output.innerHTML = p1_score;
            p2_output.innerHTML = p2_score;

            setTimeout(score_check, 10000);
        }
    </script>
   
    <hr>
    <div class='center'> <button class="btn btn-primary btn-sm center" cloud_action='update' cloud_name='P1_Ready'>Reset Position</button></p> </div>
    <div class="center"> <div id="google_translate_element"></div> </div>

   
    <script type="text/javascript">
    function googleTranslateElementInit() {
    new google.translate.TranslateElement({pageLanguage: 'en'}, 'google_translate_element');
    }
    </script>

    <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

</body>
</html>
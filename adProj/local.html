<html lang="en">
	<title>Shuffleboard (Local)</title>
	
    <head>
	    <script src="https://cdn.jsdelivr.net/gh/tuftsceeo/SPIKE-Web-Interface/cdn/ServiceDock.js" charset="utf-8"></script>
	    <script src="../src/secret.js" charset="utf-8"></script>
	    <script src="../src/cloud.js" charset="utf-8"></script>
	    <link rel="stylesheet" href="../src/style.css" />
	
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    
    </head>


    <body>

        <!-- SERVICE DOCK -->
        <div id="servicedock">
            <service-airtable id="service_airtable" tablename="shuffle"></service-airtable>
            <service-spike id="service_spike"></service-spike>
        </div>

        <h1>Local Interface</h1>

        <p><h3>Launching Puck</h3></p>
        
        <!-- Code watching for Ready command. Looks for "Ready" in P1_Ready. -->
        <div class="cloud_check">
            <b><em>Monitor Cloud:</em></b>

            <div type="cloud_check" cloud_compare="equal" cloud_action="download_code">
                <input type=text id="cloud_name" value="P1_Ready">
                <input type=text id="cloud_value" value="FIRE">
                <input type=text id="cloud_action_val" value="0">

                <!-- Code that runs on Spike Prime (This code should run the robot to the correct position, then launch the puck) -->
                <textarea id="cloud_code"># MicroPython for LEGO Hardware (LEGO Education's SPIKE Prime)
                    from spike import PrimeHub, Motor
                    from spike.control import wait_for_seconds

                    hub = PrimeHub()

                    hub.light_matrix.write('Launching')
                    message = CLOUD[P1_Pos]
                    hub.light_matrix.write(message)
                    message = CLOUD[P1_Ang]
                    hub.light_matrix.write(message)
                    message = CLOUD[P1_Pow]
                    hub.light_matrix.write(message)
                </textarea>
                
                <input type=text id="cloud_reset" value="">
            </div>
        </div>

        <p><h3>Testing Position</h3></p>
        
        <!-- Code watching for "run to position" or "test" function. Looks for "Test" in P1_Ready. -->
        <div class="cloud_check">
            <b><em>Monitor Cloud:</em></b>

            <div type="cloud_check" cloud_compare="equal" cloud_action="download_code">
                <input type=text id="cloud_name" value="P1_Ready">
                <input type=text id="cloud_value" value="Test">
                <input type=text id="cloud_action_val" value="0">

                <!-- Code that runs on Spike Prime (This code should run the robot to the correct position) -->
                <textarea id="cloud_code"># MicroPython for LEGO Hardware (LEGO Education's SPIKE Prime)
                    from spike import PrimeHub, Motor
                    from spike.control import wait_for_seconds

                    hub = PrimeHub()
                    
                    hub.light_matrix.write('Testing')
                    message = CLOUD[P1_Pos]
                    hub.light_matrix.write(message)
                    message = CLOUD[P1_Ang]
                    hub.light_matrix.write(message)
                </textarea>
                
                <input type=text id="cloud_reset" value="">
            </div>

        </div>

    <hr>

        <h2>My Project Quick Links:</h2>
    <p>
        <ul>
        <li><a href="./remote1.html" target=_blank>My Project Remote Page</a></li>
        <li><a href="./remote2.html" target=_blank>My Project Remote Page (dead link rn) </a></li>
        <li><a href="./local.html" target=_blank>My Project Local Page</a></li>
        </ul>
    </p>
        <p><a href="../index.html">Return back to the main homepage.</a></p>

    </body>
</html>
